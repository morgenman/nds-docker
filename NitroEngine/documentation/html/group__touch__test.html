<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Nitro Engine: Touch test</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Nitro Engine
   &#160;<span id="projectnumber">0.7.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Touch test</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4a214236e3dba23252b31a8ad01ed2da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#ga4a214236e3dba23252b31a8ad01ed2da">NE_TouchTestStart</a> (void)</td></tr>
<tr class="memdesc:ga4a214236e3dba23252b31a8ad01ed2da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start a 'touch test mode' and saves current matrices.  <a href="group__touch__test.html#ga4a214236e3dba23252b31a8ad01ed2da">More...</a><br /></td></tr>
<tr class="separator:ga4a214236e3dba23252b31a8ad01ed2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac763917aacd2fe01f90427f7cbc78f42"><td class="memItemLeft" align="right" valign="top"><a id="gac763917aacd2fe01f90427f7cbc78f42"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#gac763917aacd2fe01f90427f7cbc78f42">NE_TouchTestObject</a> (void)</td></tr>
<tr class="memdesc:gac763917aacd2fe01f90427f7cbc78f42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a test for a model. <br /></td></tr>
<tr class="separator:gac763917aacd2fe01f90427f7cbc78f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5f7733baa7976fcaedf7ce0b71b4385"><td class="memItemLeft" align="right" valign="top"><a id="gac5f7733baa7976fcaedf7ce0b71b4385"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#gac5f7733baa7976fcaedf7ce0b71b4385">NE_TouchTestResult</a> (void)</td></tr>
<tr class="memdesc:gac5f7733baa7976fcaedf7ce0b71b4385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns -1 if the model is NOT being touched. If it is touched, returns the distance from the camera. <br /></td></tr>
<tr class="separator:gac5f7733baa7976fcaedf7ce0b71b4385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga902a199e456a3164e1ec838e564fcfa1"><td class="memItemLeft" align="right" valign="top"><a id="ga902a199e456a3164e1ec838e564fcfa1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__touch__test.html#ga902a199e456a3164e1ec838e564fcfa1">NE_TouchTestEnd</a> (void)</td></tr>
<tr class="memdesc:ga902a199e456a3164e1ec838e564fcfa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ends the 'touch test mode' and sets the matrices that were saved before. Polygons drawn after this will be displayed on screen. <br /></td></tr>
<tr class="separator:ga902a199e456a3164e1ec838e564fcfa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>If you wanted to know if you are touching something, this is for you! These functions perform tests to know if an object is under the stylus coordinates and return its distance from the camera.</p>
<p>Note: There is a bug when first two coordinates of viewport are different from (0,0) in gluPickMatrix.</p>
<p>Note2: This uses last stylus coordinates even if it has been released. You will have to check by yourself if it is really touching the screen.</p>
<p>Note3: It two objects are overlaping the test may fail to diferenciate which of them is closer to the camera.</p>
<p>Note4: If you want to draw something without using <a class="el" href="group__model__system.html#ga3300bc88fe28d9dac079b2fe22e1dd9d" title="Draws a model.">NE_ModelDraw()</a>, you will have to move the view to the center of your model and use PosTest_Asynch(0, 0, 0).</p>
<p>How to use this:</p>
<p>1 - Init a 'touch test mode' with <a class="el" href="group__touch__test.html#ga4a214236e3dba23252b31a8ad01ed2da" title="Start a &#39;touch test mode&#39; and saves current matrices.">NE_TouchTestStart()</a> to prepare the hardware to perform this test. During this mode, polygons are not drawn. Because of that, you could (and should) use models with less details than originals (no texture, no normals, less polygons...).</p>
<p>2 - Call <a class="el" href="group__touch__test.html#gac763917aacd2fe01f90427f7cbc78f42" title="Starts a test for a model.">NE_TouchTestObject()</a>.</p>
<p>3 - Draw the model with <a class="el" href="group__model__system.html#ga3300bc88fe28d9dac079b2fe22e1dd9d" title="Draws a model.">NE_ModelDraw()</a>.</p>
<p>4 - Call <a class="el" href="group__touch__test.html#gac5f7733baa7976fcaedf7ce0b71b4385" title="Returns -1 if the model is NOT being touched. If it is touched, returns the distance from the camera.">NE_TouchTestResult()</a> to know if it is being touched. If it is touched, it returns the distance from the camera.</p>
<p>5 - Repeat 2-4 for each model you want to test.</p>
<p>6 - Call <a class="el" href="group__touch__test.html#ga902a199e456a3164e1ec838e564fcfa1" title="Ends the &#39;touch test mode&#39; and sets the matrices that were saved before. Polygons drawn after this wi...">NE_TouchTestEnd()</a> to return back to normal. Polygons are drawn on screen after this.</p>
<p>Adapted from the Picking example of libNDS by Gabe Ghearing. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga4a214236e3dba23252b31a8ad01ed2da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4a214236e3dba23252b31a8ad01ed2da">&#9670;&nbsp;</a></span>NE_TouchTestStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NE_TouchTestStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start a 'touch test mode' and saves current matrices. </p>
<p>Polygons drawn after this won't be displayed on screen. It is a good idea to use models with less details than the original to this test.</p>
<p>This doesn't work in emulators.</p>
<p>gluPickMatrix has a bug that appears when the two first coordinates of viewport are different from (0, 0). </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
